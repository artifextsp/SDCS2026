:root{
  --bg:#f7f7f8; --surface:#fff; --surface-2:#f3f6fb; --border:#e5e7eb;
  --text:#111827; --muted:#6b7280;
  --azul:#3a8dde; --azul-ink:#0b5cab; --azul-soft:#e8f2ff; --azul-brd:#7bb9ff;
}
*{box-sizing:border-box}
body{background:var(--bg);color:var(--text);margin:0}
.hide{display:none}

.card-stu{width:min(1100px,96vw);padding:20px;margin:20px auto;border-radius:16px;border:1px solid var(--border);background:var(--surface)}
.head .h-azul{color:var(--azul-ink);margin:0 0 8px}
.h-azul-2{color:var(--azul-ink);margin:8px 0}
.h-azul-3{color:var(--azul-ink);margin:6px 0}
.p{color:var(--muted);margin:0}

.row{display:grid;gap:12px;align-items:end;margin:10px 0}
.row-top{grid-template-columns: 1fr;} /* 1 sola columna por defecto (sin grado) */
.row-top.debug{grid-template-columns: 220px auto;} /* 2 columnas solo en modo debug */
.row-top label select{width:100%;padding:10px;border:1px solid var(--border);border-radius:10px;background:#fff}

.panel{border:1px solid var(--border);background:#fff;border-radius:12px;padding:12px;margin-top:12px}

/* Trimestres horizontales, compactos */
.trimestres{
  display:flex !important; flex-direction:row !important;
  gap:8px !important; justify-content:flex-start !important; flex-wrap:wrap !important;
}
.chip{
  border:1px solid var(--border);
  background:var(--surface-2);
  color:var(--text);
  padding:8px 12px;
  border-radius:999px;
  cursor:pointer;
  font-weight:600;
  font-size:.95rem;
}
.chip-tri{border-color:#cfe4ff;background:#f5f9ff;color:var(--azul-ink)}
.chip-act{background:var(--azul-soft);border-color:var(--azul-brd);color:var(--azul-ink);font-weight:700}

/* Fila horizontal: QA + Proyecto + Clases */
.chips-row{
  display:flex !important; gap:12px !important; flex-wrap:wrap !important; align-items:center !important;
  padding:8px; border:1px dashed #cfe4ff; border-radius:12px; background:#fbfdff
}

/* Chips azules intensos */
.chip-qa, .chip-proy, .clase-chip{
  display:inline-flex !important; align-items:center !important; justify-content:center !important; flex:0 0 auto !important;
  border:1px solid var(--azul-brd) !important; background:var(--azul-soft) !important; color:var(--azul-ink) !important;
  padding:10px 16px !important; border-radius:999px !important; cursor:pointer !important; font-weight:700 !important; text-align:center !important;
}
.clase-chip{min-width:110px}
.chip-qa::before{content:"ðŸ§­ ";} .chip-proy::before{content:"ðŸ§© ";}
.chip-qa:hover, .chip-proy:hover, .clase-chip:hover{background:#dff0ff !important; border-color:#67b3ff !important}

/* Tooltip */
.tooltip{position:fixed; padding:6px 10px; border-radius:10px; background:#1f2937; color:#fff; font-size:.9rem; pointer-events:none; transform:translate(-50%,-120%); white-space:nowrap; z-index:50}

/* Vista + Recursos */
.view{min-height:160px;border:1px solid var(--border);border-radius:12px;padding:12px;background:#fff}
.recursos{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:10px;margin-top:8px}
.card-rec{border:1px solid var(--border);background:var(--surface-2);border-radius:12px;padding:10px;cursor:pointer}
.card-rec:hover{filter:brightness(1.02)}
.card-rec .etq{display:block;color:var(--muted);margin-top:4px;font-size:.9rem}

/* Modal elegante */
.modal{position:fixed;inset:0;background:rgba(0,0,0,.45);display:none;align-items:center;justify-content:center;padding:20px}
.modal__inner{width:min(1000px,96vw);max-height:90vh;overflow:auto;background:#fff;border-radius:12px;border:1px solid var(--border)}
.modal__bar{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--azul-brd);padding:10px 12px;background:#f0f7ff}
.modal__title{color:var(--azul-ink);font-weight:700}
.btn-close{all:unset; cursor:pointer; padding:6px 10px; border-radius:999px; background:var(--azul-soft); color:var(--azul-ink); border:1px solid var(--azul-brd); font-weight:700; font-size:.9rem}
.btn-close:hover{background:#dff0ff}
.modal__body{min-height:60vh;background:#fff}
.modal.show{display:flex}
iframe, video{width:100%;height:76vh;border:0}
img.viewer{max-width:100%;height:auto;display:block;margin:auto}
audio{width:100%}

/* Overrides por si hay estilos globales agresivos */
:where(.trimestres,.chips-row) button{
  width:auto !important; display:inline-flex !important; align-items:center !important; justify-content:center !important;
  padding:8px 12px !important; border-radius:999px !important;
}
